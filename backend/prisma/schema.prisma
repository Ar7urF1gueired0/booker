// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id    String     @id @default(cuid())
  email String     @unique
  name  String?
  role  String     @default("player")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

model Tournament {
  id    String     @id @default(cuid())
  name  String
  format String
  courts Int
  playersPerMatch Int
  createdBy String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("tournaments")
}

model Match {
  id    String     @id @default(cuid())
  tournamentId String
  court Int
  team1Players String[]
  team2Players String[]
  team1Score Int?
  team2Score Int?
  status String @default("scheduled")
  scheduledAt DateTime
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("matches")
}
